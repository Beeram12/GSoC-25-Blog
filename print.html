<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CodeQL Static Analyzer for RTEMS</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CodeQL Static Analyzer for RTEMS</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="about-me"><a class="header" href="#about-me">About Me</a></h1>
<p>I am currently a third-year Electrical Engineering student from Sardar Vallabhbhai National
Institute of Technology with a strong interest in systems programming, automation, and
DevOps. While my coursework primarily focuses on electronics and electrical systems, I
have actively explored low-level programming, operating systems, and automation tools,
which naturally led me to embedded systems.</p>
<p>My interest in embedded systems comes from working with microcontrollers for a project in
my college initially and understanding how software interacts with hardware at a deep level.
I enjoy optimizing performance, ensuring reliability, and automating workflows—critical
aspects of embedded development</p>
<p>I discovered RTEMS while exploring open-source projects from GSOC organizations and their
role in critical systems like aerospace, robotics, and industrial automation is huge. The
structured development process and community-driven approach of RTEMS motivated me to
work with the organization.</p>
<p>What makes me stand out is my ability to adapt and learn quickly. I have strong experience
in backend development with Go and C++, which helps me write efficient software.
Additionally, my interest in optimizing workflows allows me to improve development
processes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-overview"><a class="header" href="#project-overview">Project-Overview</a></h1>
<h2 id="project-abstract"><a class="header" href="#project-abstract">Project Abstract</a></h2>
<p>The project aims to integrate <strong>CodeQL</strong> into the <strong>RTEMS</strong> workflow by configuring it for source code analysis, generating reports on security and coding issues,and allowing rule customization. Additionally, it will develop a standalone tool for local static analysis, ensuring repeatability and future integration into RTEMS CI.</p>
<h2 id="project-description"><a class="header" href="#project-description">Project Description</a></h2>
<p>RTEMS currently lacks a robust static analysis tool integrated into its development workflow.While tools like Coverity exist, they are not fully customizable or locally executable. CodeQL offers flexibility, customizability, and the ability to run locally, making it a strong candidate for adoption.</p>
<p>Static analysis tools help identify potential bugs, security vulnerabilities, and coding
standard violations early in the development process. CodeQL's query-based approach
allows developers to define custom rules tailored to RTEMS-specific requirements. The
current RTEMS workflow relies on external platforms like GitLab CI for running CodeQL,
generating reports, and manually modifying the source code based on findings. This creates
dependencies on third-party tools, limits local development flexibility, and requires manual
effort in reviewing and fixing issues.</p>
<p>Integrating CodeQL locally eliminates dependencies on external CI platforms like GitLab by
enabling developers to run static analysis directly on their machines before committing
changes. CodeQL’s query-based approach allows the creation of custom rules tailored to
RTEMS-specific requirements, such as ignoring irrelevant files, directories, or rules, ensuring
only meaningful checks are enforced. Automated report generation provides clear,
structured insights, reducing manual review efforts and improving efficiency. A standalone
tool will be developed to streamline local CodeQL execution, complemented by an RTEMS
Source Builder (RSB) recipe to automate installation and configuration. This setup ensures
repeatability, minimizes noise through customizable filters and includes documentation and
a tutorial to guide future contributors. The solution is designed modularly to support
eventual CI integration while prioritizing local developer experience and alignment with
RTEMS coding standards.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="implementation"><a class="header" href="#implementation">Implementation</a></h1>
<p>This section documents the weekly progress of the CodeQL Static Analyzer for RTEMS project as part of GSoC 2025.</p>
<ul>
<li><a href="Implementation/./week-1.html">Week-1</a></li>
<li><a href="Implementation/./week-2.html">Week-2</a></li>
<li><a href="Implementation/./week-3.html">Week-3</a></li>
<li><a href="Implementation/./week-4.html">Week-4</a></li>
<li><a href="Implementation/./week-5.html">Week-5</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-1"><a class="header" href="#week-1">Week-1</a></h1>
<p>This week marked the beginning of the GSoC implementation phase.This was all the analysis and setup I did before my GSoC application where I focused on setting up the static analysis framework and laying the foundation for the CodeQL integration with the RTEMS codebase.</p>
<h2 id="work-done"><a class="header" href="#work-done">Work-done</a></h2>
<ol>
<li>
<h3 id="installation-of-codeql"><a class="header" href="#installation-of-codeql">Installation of CodeQL</a></h3>
<ul>
<li>
<p>By referring to the documentation from CodeQL, I opted for Option 2 to install the CodeQL CLI.<br />
Option 2 focuses on downloading the standalone CodeQL CLI binary from the official GitHub releases page. This method provides:</p>
<ul>
<li>The CodeQL CLI executable</li>
<li>Minimal setup without the default GitHub query packs</li>
<li>Flexibility to manually install and configure specific query packs</li>
<li>I downloaded the ZIP file <code>(codeql-linux64.zip)</code> from (<a href="https://github.com/github/codeql-cli-binaries/releases">GitHub CodeQL CLI binary Releases</a>), extracted it.</li>
</ul>
</li>
</ul>
</li>
<li>
<h3 id="creation-of-database"><a class="header" href="#creation-of-database">Creation of Database</a></h3>
<ul>
<li>After installing the CodeQL CLI, the next step was to generate a CodeQL database from the RTEMS source code.</li>
<li>A CodeQL database is a structured representation of the codebase, enabling static analysis through queries.</li>
</ul>
<h4 id="database-creation-command"><a class="header" href="#database-creation-command">Database Creation Command:</a></h4>
<pre><code class="language-bash">codeql database create rtems-codeql-db --language=c --source-root=.
</code></pre>
<ul>
<li>This command initializes a new CodeQL database named <code>rtems-codeql-db</code>.</li>
</ul>
</li>
<li>
<h3 id="analyze-the-database"><a class="header" href="#analyze-the-database">Analyze the Database</a></h3>
<ul>
<li>Once the CodeQL database was successfully generated, the next step was to analyze it using specific Coding Standard rules.</li>
</ul>
<h4 id="running-the-analysis"><a class="header" href="#running-the-analysis">Running the Analysis:</a></h4>
<ul>
<li>Use the following command to analyze the database with one or more Coding Standards:</li>
</ul>
<pre><code class="language-bash">codeql database analyze rtems-codeql-db --format=sarif-latest --output=codeql-report.sarif
</code></pre>
<ul>
<li>The results are saved in a <a href="https://sarifweb.azurewebsites.net/">SARIF</a> file, which is a standardized format for static analysis results, and can be visualized using compatible tools.</li>
</ul>
</li>
</ol>
<h2 id="future-improvements-from-discussions"><a class="header" href="#future-improvements-from-discussions">Future Improvements from discussions</a></h2>
<ol>
<li>Install <code>option 1</code> method for installing CodeQL CLI and also include C standard packs like MISRA,CERT-C.</li>
<li>Make plan for RSB reciepe creation.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-2"><a class="header" href="#week-2">Week-2</a></h1>
<p>This week, I focused on practical integration and experimentation with CodeQL, including an upgrade from the previous version and well-classified documentation. I started using the CodeQL CLI bundle to generate databases and run queries across multiple languages, i.e., C, C++, and Python. The goal was to explore CodeQL's ability to enforce secure coding standards like MISRA C, Common C, and detect low-level vulnerabilities early in embedded systems development.</p>
<p>Alongside CodeQL work, I also began exploring the RTEMS Source Builder (RSB) to understand how toolchains are configured and managed for RTEMS targets.</p>
<h2 id="work-completed-this-week"><a class="header" href="#work-completed-this-week">Work completed this week</a></h2>
<h3 id="1-installation-of-codeql-cli-bundle"><a class="header" href="#1-installation-of-codeql-cli-bundle">1. Installation of <code>CodeQL CLI</code> bundle</a></h3>
<ol>
<li>
<p>Download the <code>.tar.gz</code> file from the codeql <a href="https://github.com/github/codeql-action/releases">release-page</a>:</p>
<ul>
<li>Here I am using CodeQL CLI bundle, which includes both the CodeQL CLI and GitHub's default security queries.I selected <code>codeql-bundle-linux64.tar.gz</code> because I was using linux-ubuntu.</li>
<li>Also you can install simlarly using the below link:</li>
</ul>
<pre><code>wget https://github.com/github/codeql-action/releases/download/codeql-bundle-v2.21.3/codeql-bundle-linux64.tar.gz
</code></pre>
<blockquote>
<p>The version I used here is <code>v2.21.3</code>.</p>
</blockquote>
</li>
<li>
<p>Extract the <code>tarball</code> downloaded:</p>
<pre><code>mkdir -p ~/codeql
tar -xzvf codeql-bundle-linux64.tar.gz -C ~/codeql
</code></pre>
</li>
<li>
<p>Add <code>codeql</code> to <code>PATH</code>:</p>
<pre><code>echo 'export PATH="$HOME/codeql/codeql:$PATH"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
</li>
<li>
<p>Verify if <code>codeql</code> is intalled:</p>
<pre><code>codeql --version  # Should show the CLI version .
</code></pre>
</li>
</ol>
<h3 id="2-installation-of-ccpp-query-packages"><a class="header" href="#2-installation-of-ccpp-query-packages">2. Installation of <code>C/CPP</code> Query-packages</a></h3>
<ol>
<li>To install codeql packages that include:
<ul>
<li><code>misra-c-coding-standards</code></li>
<li><code>cert-c-coding-standards</code></li>
<li><code>misra-cpp-coding-standards</code></li>
<li><code>cert-cpp-coding-standards</code></li>
<li><code>autosar-cpp-coding-standards</code></li>
<li><code>common-c-coding-standards</code></li>
<li><code>common-cpp-coding-standards</code>
Run the following command:</li>
</ul>
<pre><code>codeql pack download codeql/misra-c-coding-standards
codeql pack download codeql/cert-c-coding-standards
codeql pack download codeql/misra-cpp-coding-standards
codeql pack download codeql/cert-cpp-coding-standards
codeql pack download codeql/autosar-cpp-coding-standards
codeql pack download codeql/common-c-coding-standards
codeql pack download codeql/common-cpp-coding-standards
</code></pre>
</li>
<li>To verify the location of installation:
<pre><code>~$ ls .codeql/packages/codeql/
</code></pre>
<blockquote>
<p>Versions of each package installed are
1. autosar-cpp-coding-standards ⇒ 2.45.0
2. cert-cpp-coding-standards ⇒ 2.45.0
3. common-cpp-coding-standards ⇒ 2.45.0
4. misra-cpp-coding-standards ⇒ 2.45.0
5. cert-c-coding-standards ⇒ 2.45.0</p>
</blockquote>
</li>
</ol>
<h3 id="3-creating-database-for-rtems"><a class="header" href="#3-creating-database-for-rtems">3. Creating Database for RTEMS</a></h3>
<ol>
<li>For creating a database for mulutiple langauges and other flags I reffred to this <a href="https://docs.github.com/en/code-security/codeql-cli/getting-started-with-the-codeql-cli/preparing-your-code-for-codeql-analysis">documentation</a>.To build the database for <code>RTEMS</code> codebase use the command
<pre><code>codeql database create rtems-db \
--db-cluster \
--language python,c-cpp \
--command "./build.sh" \
--no-run-unnecessary-builds \
--source-root .
</code></pre>
</li>
</ol>
<blockquote>
<p>The <code>build.sh</code> script is a helper file that automates the <strong>clean</strong> and <strong>build</strong> process for the RTEMS codebase:</p>
</blockquote>
<pre><code class="language-bash">#!/bin/bash
./waf clean &amp;&amp; ./waf build
</code></pre>
<p>This script ensures the workspace is cleaned before each build, which helps avoid inconsistencies due to leftover artifacts.</p>
<ul>
<li>Here I am creating a database for 3 languages i.e Python,C,CPP.</li>
<li>Make sure you are under <code>RTEMS</code> codebase while creation.</li>
</ul>
<h3 id="4-analyzing-the-database"><a class="header" href="#4-analyzing-the-database">4. Analyzing the Database</a></h3>
<ol>
<li>
<p>For the analysis of database I reffered this <a href="https://docs.github.com/en/code-security/codeql-cli/codeql-cli-manual/database-analyze#options-to-control-ram-usage">documentation</a>.</p>
</li>
<li>
<p>We can use the below command to analyse the codebase</p>
<ul>
<li><strong>For MISRA C:</strong>
<pre><code>codeql database analyze rtems-db/cpp \
  --format=sarifv2.1.0 \
  --output=misra-c-results.sarif \
  codeql/misra-c-coding-standards@2.45.0 \
  --ram= "can be set as your wish"\
  --threads= "can be set as your wish"
</code></pre>
</li>
<li><strong>For CERT C:</strong>
<pre><code>codeql database analyze rtems-db/cpp \
  --format=sarifv2.1.0 \
  --output=cert-c-results.sarif \
  codeql/cert-c-coding-standards@2.45.0\
  --ram= "can be set as your wish"\
  --threads= "can be set as your wish"\
</code></pre>
</li>
<li><strong>For MISRA C++:</strong>
<pre><code>codeql database analyze rtems-db/cpp \
  --format=sarifv2.1.0 \
  --output=misra-cpp-results.sarif \
  codeql/misra-cpp-coding-standards@2.45.0\
  --ram= "can be set as your wish"\
  --threads= "can be set as your wish"\
</code></pre>
</li>
<li><strong>Generate Report for Python</strong>
<pre><code>codeql database analyze rtems-db/python \
  --format=sarifv2.1.0 \
  --output=python-security-results.sarif \
  codeql/python-queries  # Default security queries
</code></pre>
</li>
</ul>
</li>
<li>
<p>The output generated is in <code>sarif</code> format.</p>
</li>
</ol>
<h2 id="future-improvements-from-discussions-1"><a class="header" href="#future-improvements-from-discussions-1">Future Improvements from discussions</a></h2>
<ol>
<li>Come up with recipe for installation of CodeQL into RSB</li>
<li>Explore running the queries and excluding some queries</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-3"><a class="header" href="#week-3">Week-3</a></h1>
<p>During the third week, I collaborated closely with Dr. RTEMS to reproduce the CodeQL setup and workflow on his system using the documentation I had prepared. This joint debugging effort helped us pinpoint specific issues in the CodeQL analysis process. While attempting to integrate CodeQL with the RTEMS Source Builder (RSB), we faced configuration and compatibility challenges, leading to a revised understanding of the mid-term deliverables based on feasibility and project priorities. Additionally, Dr. RTEMS encountered issues visualizing SARIF report outputs due to toolchain limitations, so we decided to shift to the CSV format for CodeQL query results to ensure better compatibility and easier processing going forward.</p>
<h2 id="work-completed-this-week-1"><a class="header" href="#work-completed-this-week-1">Work completed this week</a></h2>
<h3 id="1-exclude-queries"><a class="header" href="#1-exclude-queries">1. Exclude Queries</a></h3>
<ol>
<li>
<p>To exclude a query create a directory <code>codeql</code> and add the following details as <code>restricted-cert.qls</code> file.</p>
<pre><code>- qlpack: codeql/cert-cpp-coding-standards
    version: 2.46.0
- exclude:
    id:
      - cpp/cert/interleaved-input-output-without-position
</code></pre>
<blockquote>
<p>Mention id in the given format <code>langauge/query-rule/query-name-in-small</code></p>
</blockquote>
<p>and run the file i.e use</p>
<pre><code>codeql database analyze rtems-db/cpp \
    --format=sarifv2.1.0 \
    --output=misra-cpp-results.sarif \
    --ram=8000 \
    --threads=4 \
    codeql/cpp-misra-restricted.qls  # Use your custom suite here 
</code></pre>
<p>then you will be able to get the report.</p>
</li>
<li>
<p>Generate output using CSV format.</p>
<pre><code>codeql database analyze rtems-db/cpp \
    --format=csv \
    --output=restricted-cpp-results.csv \
    --ram=8000 \
    --threads=4 \
    codeql/cpp-misra-restricted.qls  # Use your custom suite here
</code></pre>
</li>
<li>
<p>Discussed on grouping all the queries in batches which can be used in CI later.</p>
</li>
</ol>
<h2 id="future-improvements"><a class="header" href="#future-improvements">Future Improvements</a></h2>
<ol>
<li>Since our attempt to use the RTEMS Source Builder (RSB) for CodeQL integration did not go as planned, I had a detailed discussion with my mentor Dr. RTEMS regarding alternative approaches.</li>
<li>We concluded that a more practical and reproducible solution would be to write dedicated scripts for each step of the CodeQL workflow — including database creation, analysis, and result handling.</li>
<li>These scripts will serve as a reusable automation toolkit that others in the RTEMS community can easily run and replicate.</li>
<li>This scripting-based setup will form the basis of my midterm deliverable, effectively becoming an alpha integration package for CodeQL with RTEMS.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-4"><a class="header" href="#week-4">Week-4</a></h1>
<p>During Week-4, we finalized my midterm deliverables after discussions with my mentor, focusing on building a reproducible CodeQL workflow tailored for RTEMS. The primary goal is to automate the entire setup process so that others can easily replicate the analysis steps without manual intervention. To achieve this, I started writing a series of scripts that handle tasks such as downloading, unzipping, and setting up the CodeQL CLI. We also discussed implementing directory exclusion rules to ensure irrelevant files are filtered out during database creation. As of now, the installation and unzipping stages of the automation have been completed successfully, marking steady progress toward the midterm milestone.</p>
<h2 id="work-completed-this-week-2"><a class="header" href="#work-completed-this-week-2">Work completed this week</a></h2>
<h3 id="1-finalaze-mid-term-delvirable"><a class="header" href="#1-finalaze-mid-term-delvirable">1. Finalaze mid-term delvirable</a></h3>
<ol>
<li>A standalone GitHub repository containing:
<ul>
<li>Set up scripts and config files for running CodeQL on <code>RTEMS</code>.</li>
<li><code>.qls</code> files for selected rule sets.</li>
<li><code>.qls</code> files focusing on excluding directories accordingly.</li>
<li>Sample output reports (CSV / SARIF).</li>
<li>Clear <code>README</code> instructions to replicate the setup manually.</li>
</ul>
</li>
<li>A working demo showing:
<ul>
<li>Cloning the toolkit.</li>
<li>Running CodeQL and viewing actionable issues with line-level details.</li>
</ul>
</li>
<li>(Optional) Draft design for CI integration in the future.</li>
<li>Toolkit structure
<pre><code>rtems-codeql-toolkit/
├── bin/               # CodeQL binaries (auto-downloaded)
├── config/            # Pre-configured exclusion profiles
├── reports/           # Analysis outputs
├── scripts/           # Automation scripts
│   ├── setup          # Installation script
│   ├── sb-check       # Environment validator
│   └── analyze        # Main analysis driver
└── README.md          # User guide
</code></pre>
No mixing with RTEMS source files</li>
<li>Directory Exclusion Strategy:The following <a href="https://docs.github.com/en/code-security/code-scanning/creating-an-advanced-setup-for-code-scanning/customizing-your-advanced-setup-for-code-scanning#uploading-code-scanning-data-to-github">documentation</a> has been reffered for directory exclusion.</li>
</ol>
<h3 id="2-scripts"><a class="header" href="#2-scripts">2. Scripts</a></h3>
<ul>
<li>This week, I completed the scripts used for installing the CodeQL CLI bundle and unzipping it. A progress bar has also been integrated to give users clear visual feedback during the installation process.</li>
<li>The script  detects the user's operating system and installs the appropriate bundle accordingly..</li>
<li>If an older version of the bundle is already present, it gets automatically removed, and the new version is installed by simply updating the version number in the script.</li>
<li>The installed CodeQL bundle is placed inside the <code>bin</code> directory for consistent and organized access.</li>
</ul>
<h2 id="future-improvements-1"><a class="header" href="#future-improvements-1">Future Improvements</a></h2>
<ul>
<li>I will write scripts that check whether <code>codeql</code> is already available in the system's <code>PATH</code>. If not, the script will guide the user to install or link it correctly.</li>
<li>I will also implement scripts to create a CodeQL database and run analysis using predefined or custom query packs, ensuring the process is smooth and fully automated.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-5"><a class="header" href="#week-5">Week-5</a></h1>
<p>This week, I completed writing all the scripts responsible for creating the CodeQL database and performing the analysis. I also began working on excluding queries that are known to hang or get stuck during execution. I collaborated closely with my mentor to test the functionality of these scripts and we are actively working on improving them. Additionally, my mentor provided some feedback and shared initial results, which I will incorporate to further refine and enhance the scripts.</p>
<h2 id="work-completed-this-week-3"><a class="header" href="#work-completed-this-week-3">Work completed this week</a></h2>
<h3 id="1-scripts"><a class="header" href="#1-scripts">1. Scripts</a></h3>
<ol>
<li>
<p>Completed the following scripts:</p>
<ul>
<li><code>create_db.py</code>: Handles database creation with different langauges.</li>
<li><code>sb_check.py</code> : Checks if CodeQL is available in the system <code>PATH</code>.</li>
<li><code>analyze_db.py</code> : Handle CodeQL analysis with CSV report generation.</li>
</ul>
</li>
<li>
<p>The GitLab repository <a href="https://gitlab.rtems.org/Pranith_1316/rtems-codeql-toolkit">rtems-codeql-toolkit</a> is now well-documented:</p>
<ul>
<li>A detailed <code>README.md</code> is available explaining how to install, configure, and use each script.</li>
<li>Clear instructions and examples are provided to help users understand how the toolkit works and how to get started quickly.</li>
</ul>
</li>
</ol>
<h2 id="future-improvements-2"><a class="header" href="#future-improvements-2">Future Improvements</a></h2>
<p>Based on the feedback received from Dr. RTEMS, I need to do the following improvements to the project:</p>
<ol>
<li>
<p><strong>README.md Modifications</strong></p>
<ul>
<li>
<p>Updated the <code>pip install</code> instructions to include the <code>--user</code> flag for better compatibility:</p>
<pre><code class="language-bash">pip install --user -r requirements.txt
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Script Enhancements</strong></p>
<ul>
<li>Added a proper shebang (<code>#!/usr/bin/env python3</code>) at the top of all Python scripts to allow them to be executed directly.</li>
<li>Ensured that all scripts in the <code>scripts/</code> directory can be run using <code>./scripts/&lt;script_name&gt;.py</code> format by setting appropriate execute permissions.</li>
</ul>
</li>
<li>
<p><strong>CodeQL Path and Version Check</strong></p>
<ul>
<li>Improve the logic to:
<ul>
<li>Detect if CodeQL is already available in the system <code>PATH</code>.</li>
<li>If present, use the existing CodeQL installation.</li>
<li>Verify if the CodeQL version matches the required one before proceeding.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>CSV Output Formatting</strong></p>
<ul>
<li>Enhanced the CSV formatting logic to ensure the output includes a header row.</li>
<li>This improves clarity and usability of analysis results for further processing or review.</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-6"><a class="header" href="#week-6">Week-6</a></h1>
<p>This week, my CodeQL toolkit was tested by Gedare, who provided valuable feedback on both the tool and the documentation. Based on his review, I made several improvements to the <code>README.md</code> and adjusted some script behaviors to improve usability and clarity. I also defined my initial milestones for the upcoming midterm evaluation.</p>
<h2 id="work-completed-this-week-4"><a class="header" href="#work-completed-this-week-4">Work completed this week</a></h2>
<h3 id="1-readme--tool-improvements"><a class="header" href="#1-readme--tool-improvements">1. README &amp; Tool Improvements</a></h3>
<ul>
<li>Incorporated feedback from Gedare to improve the overall structure, clarity, and technical accuracy of the documentation.</li>
<li>Enhanced command execution steps with better examples and platform-specific notes.</li>
<li>Added missing <code>.py</code> extensions to command examples (<code>./create_db.py</code>, <code>./analyze_db.py</code>).</li>
<li>Addressed missing file and directory handling issues, such as the pre-creation of the <code>reports/</code> directory before CSV generation.</li>
<li>Corrected misleading references (e.g., incorrect <code>.qls</code> file paths).</li>
<li>Ran a spell check and fixed typos throughout the <code>README.md</code>.</li>
<li>Clarified assumptions around <code>$HOME</code>, <code>config.ini</code>, and build script locations.</li>
<li>Explained the CodeQL installation better added documentation and noted potential path conflicts.</li>
</ul>
<h3 id="2-csv-output-formatting"><a class="header" href="#2-csv-output-formatting">2. CSV output formatting</a></h3>
<ul>
<li>Added proper headers to the CSV file for improved readability and analysis. The output now includes the following fields:</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td>Name</td><td>Name of the query that identified the result.</td><td>Inefficient regular expression</td></tr>
<tr><td>Description</td><td>Description of the query.</td><td>A regular expression that requires exponential time to match certain inputs can be a performance bottleneck, and may be vulnerable to denial-of-service attacks.</td></tr>
<tr><td>Severity</td><td>Severity of the query.</td><td>error</td></tr>
<tr><td>Message</td><td>Alert message.</td><td>This part of the regular expression may cause exponential backtracking on strings containing many repetitions of '\'.</td></tr>
<tr><td>Path</td><td>Path of the file containing the alert.</td><td>/vendor/codemirror/markdown.js</td></tr>
<tr><td>Start line</td><td>Line of the file where the code that triggered the alert begins.</td><td>617</td></tr>
<tr><td>Start column</td><td>Column of the start line that marks the start of the alert code. Not included when equal to 1.</td><td>32</td></tr>
<tr><td>End line</td><td>Line of the file where the code that triggered the alert ends. Not included when the same value as the start line.</td><td>64</td></tr>
<tr><td>End column</td><td>Where available, the column of the end line that marks the end of the alert code. Otherwise the end line is repeated.</td><td>617</td></tr>
</tbody></table>
</div>
<h3 id="3-midterm-planning"><a class="header" href="#3-midterm-planning">3. Midterm Planning</a></h3>
<ul>
<li>Set clear and achievable milestones for the midterm evaluation.</li>
</ul>
<h2 id="summary-of-gedares-review-highlights"><a class="header" href="#summary-of-gedares-review-highlights">Summary of Gedare’s Review Highlights</a></h2>
<ul>
<li>Add explicit instructions for installing CodeQL.</li>
<li>Avoid assumptions about file paths being under <code>$HOME</code>; improve relocatability.</li>
<li>Support Python virtual environments more clearly.</li>
<li>Improve cross-platform instructions and test beyond Linux.</li>
<li>Ensure all script calls include <code>.py</code> extension.</li>
<li>Explain use of <code>config.ini</code> and clarify build script expectations.</li>
<li>Fix typos and formatting in <code>README.md</code>.</li>
<li>Address errors related to missing report directory and invalid file paths.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
